---
layout: post
title: TIL_20171218 ~
tags: TIL lazy extension protocol pragma_mark
categories: TIL
---

2017.12.18
TODO
- JSON step2 피드백 처리
- 정규표현식 공부
  - 손에 잡히는 정규표현식 읽기
  - regexOne에서 연습

## JSON Parser 만들기 참고 사이트
* 문법검사

  https://jsonlint.com/

* JSON 배우기 및 확인

  https://regexr.com/

  https://regexone.com/lesson/capturing_groups
  http://www.rubular.com/

  https://regex101.com/

TIL
- `lazy` 지연 저장형 프로퍼티
- JSON step2 피드백 처리
  - extension에 protocol적용 : Array와 Dictionary를 ConvertTarget 프로토콜로 추상화하고, convertValues() 함수를 제거 : 하는 일은 똑같고, 리턴값을 이후에 처리하는 메소드도 똑같은 두 함수가 있는데, 리턴타입이 달랐다. 이를 하나의 프로토콜로 추상화하기위해서 원래있던 swift의 타입에 extension을 적용해서 프로토콜로 추상화했다. > 추상화로 인해서 중복되는 메소드도 줄이거나 private으로 감출 수 있었고, 과도하게 쓰인 switch-case문을 줄일 수 있었다.
  - extension의 사용 (pragma mark 사용) : 한 객체의 코드가 너무 길어지면 가독성을 위해서 extension을 사용했었는데, extension은 이렇게 의미없이 사용하는게 아니라고 함. 의미없이 사용된 extension은 제거하고 `// MARK:` 주석을 사용했다. 스위프트에는 MARK말고도 특별한 주석이 있다. pragma mark는 Objective-C에서 사용되는 구문이다. (스위프트에서는`// MARK:`, `// TODO:` , `// FIXME:` 만 사용 가능하다.) 이런 키워드들을 사용해서 주석을 달면 Quick jump bar에서 책갈피처럼 주석내용을 볼 수 있다! [참고사이트1](https://stackoverflow.com/questions/35963128/swift-understanding-mark) [참고사이트2](https://littlebitesofcocoa.com/207-annotating-swift-with-marks-todo-s-and-fixme-s)
