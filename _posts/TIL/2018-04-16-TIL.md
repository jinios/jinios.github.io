---
layout: post
title: TIL_20180416 ~ 20180422
tags: TIL
categories: TIL
---

#### 2018.04.16
- awakeFromNib()에대한 질문
  - 질문거리 정리하고 [포스팅](https://jinios.github.io/ios/2018/04/15/customView_init/) 수정
- 카드게임 피드백 처리하고 step3시작하기
  - 카드객체와 카드이미지뷰 1:1로 매핑되는 관계만들기
- CardDeck (UIImageview)의 제스쳐 이벤트
- [CardDeck이 터치될때마다 탭제스쳐가 작동하지 않는 문제](https://github.com/jinios/swift-cardgameapp/issues/7)해결
  - 스택오버플로우에서 찾아본 바로는 isUserInteractionEnabled의 기본값은 true라고했는데,... 그게 아니었다.
  - UIView의 isUserInteractionEnabled / UIImageview의 isUserInteractionEnabled
    - (UIView에서 설명에 Note: 'Some UIKit subclasses override this property and return a different default value.'를 잘 읽어봤어야했다..)
  - 심지어 클래스 참조 문제도 있었음.


#### 2018.04.17
- 카드게임 step3 진행
  - 카드덱 터치부분 리팩토링: isUserInteractionEnabled - CardImageView에 적용
  - 아래 카드스택부분 출력 처리
    - 스택의 마지막 카드가 앞면인지 검사해서 앞면이 아니면 마지막 한장을 앞으로 뒤집는(open) 메소드 추가하기


MVC 설계패턴!은 구현코드와는 아무 상관없음
(구현할때는 디자인패턴)
MVP패턴에도 컨트롤러가 존재할 수 있다. (아예 없진 않음, 컨트롤러의 역할을 나눴다고 보면됨)
iOS의 MVC는 실제로 V가 VC에 포함되어있기때문에

프리젠터와 컨트롤러의 차이
- PV의 관계: 의존성 역전. View가 Presenter를 프로토콜로만 알고있고 결국엔 컨트롤러가 뷰에게 너의 프리젠터는 너야너야라고 지정해줄순있음

MVVM - 마소에서 나옴 C#


### Bitmap
사진을 하나하나구성하는 요소 pixel 사진을 2차원적으로 저장하는 비트맵
0~255까지
RGB와 CMYK는 상대적이므로 서로 계산이 가능하다.
보통 모니터에서 표현은 RGB, 출력할때는 CMYK로 표현된다.
R,G,B 8비트 256단계로 컬러를 표현 (컬러스페이스)
아이폰은 표현할수있는 더 컬러가 많아졌다

Animation
속성을 바꾸면 그냥 다시 그리는 것이지만, animation을 하면 클로저 밖의 캡쳐된 속성을 클로저 내부에 있는 값으로 n등분해서 그려줌. 그러면서 주우욱 움직이는 것으로 보일 수 있음!

transform - 원래 속성이 바뀐게 아니고 identity를 넣어주면 undo를 간단히 할 수 있다. animation은 속성을 바꿔버리는것(CGAffineTransform)
scale같은 효과는 두 방법 모두 보이는 것은 같다.

디스플레이링크는 초당 60번정도불림

물리 엔진

#### 2018.04.20
- CardStackDelegate만들기
- class 타입에서 struct로 변경. CardStackDelegate가 가진 stacks 상태가 변경되면 카드게임 앱 내 모든 객체가 똑같은 상태의 카드스택 상태를 알아야하므로 싱글톤 처럼 사용하는 느낌으로?
- 차라리 싱글톤으로 만드는게 나은가


#### 2018.04.22
- 애니메이션 강의 정리
- 리스폰더체인 복습
- [subclass CardImageView의 사이즈는 속성으로 고정하고 VC에서 origin만 부여하여 생성하는 방법 이슈](https://github.com/jinios/swift-cardgameapp/issues/9#issuecomment-383358880) 정리
  - **< 간단한 질문, 답변내용 요약 >**
  - Q: subview로 추가할 용도의 커스텀 UIView를 만들때 size값만 고정하고 origin만 superView에서 주는 방식으로 사용하는게 효율적인가?
  - A: 어차피 frame(특히 origin)값을 subview스스로 계산할 수 없다. superView기준으로 된 값이기때문에 superView에서 subview를 만들때 frame값을 넣어주는게 더 자연스러우며, superView의 코드를 짧게하고자 subview의 사이즈를 내부에 고정해두는 것 자체로는 큰 효율이 없다.
- animate 공부
